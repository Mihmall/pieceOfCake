(()=>{var e={};e.id=888,e.ids=[888],e.modules={4990:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>x,w:()=>u});var a=s(997),l=s(6689),c=s(3627),n=s(5462),i=s(9583),d=s(6706),o=s(9648),h=e([d,o]);[d,o]=h.then?(await h)():h;let u=(0,l.createContext)({}),x=({children:e})=>{let{user:t}=(0,n.U)(),[s,r]=(0,l.useState)(!1),[h,x]=(0,l.useState)([]),[j,m]=(0,l.useState)([]);(0,l.useEffect)(()=>{let e=async()=>{try{let e=await o.default.get("http://localhost:3001/catalogCard"),t=await o.default.get("http://localhost:3001/ToCart");x(t.data),m(e.data)}catch(e){console.error("Error fetching data:",e)}};e()},[]);let v=async e=>{try{h.find(t=>Number(t.id)===Number(e.id))?(await o.default.delete(`http://localhost:3001/ToCart/${e.id}`),x(t=>t.filter(t=>Number(t.id)!==Number(e.id)))):(await o.default.post("http://localhost:3001/ToCart",e),x(t=>[...t,e]))}catch(e){console.log(e)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.Z,{onClickCartBtn:()=>r(!0)}),(0,a.jsxs)(u.Provider,{value:{user:t,cartItem:h,cards:j,setCartItem:x,onAddToCart:v,onDeleteInCart:e=>{o.default.delete(`http://localhost:3001/ToCart/${e}`),x(e=>e.filter(e=>{e.id}))},setCartItem:x,isItemAdd:e=>h.some(t=>Number(t.id)===Number(e))},children:[s&&a.jsx(d.d,{items:h,onCloseCartBtn:()=>r(!1)}),e]}),a.jsx("button",{className:"btnCart floatBtn",onClick:()=>r(!0),children:a.jsx(i.g6F,{})})]})};r()}catch(e){r(e)}})},7384:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>o});var a=s(997),l=s(6689),c=s(9558),n=s(9583),i=s(4990),d=e([i]);i=(d.then?(await d)():d)[0];let o=({id:e,name:t,image:s,cost:r})=>{let{onDeleteInCart:d}=(0,l.useContext)(i.w),[o,h]=(0,l.useState)(1);return(0,a.jsxs)("div",{className:"cardToCart",id:e,children:[a.jsx("img",{className:"cartImage",src:s||(0,c.c)(""),alt:""}),(0,a.jsxs)("div",{className:"cardInCart",children:[a.jsx("h3",{children:t}),(0,a.jsxs)("p",{children:["Цена:",r]}),(0,a.jsxs)("p",{children:["Общая стоймость:",r*o]}),(0,a.jsxs)("div",{className:"product-buttons",children:[a.jsx("button",{onClick:()=>{h(o-1)},disabled:1===o,children:"-"}),a.jsx("h3",{className:"product-count",children:o}),a.jsx("button",{className:"product-add",onClick:()=>{h(o+1)},children:"+"})]})]}),a.jsx("div",{className:"removeBtn",onClick:()=>d(e),children:a.jsx(n.aHS,{})})]})};r()}catch(e){r(e)}})},6706:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{d:()=>o});var a=s(997),l=s(6689),c=s(9583),n=s(7384),i=s(4990),d=e([n,i]);[n,i]=d.then?(await d)():d;let o=({onCloseCartBtn:e,items:t})=>{let{setCartItem:s,user:r}=(0,l.useContext)(i.w),[d,o]=(0,l.useState)(!1),h=()=>{o(!0),s([])};return a.jsx("div",{className:"drawerCartOut",children:(0,a.jsxs)("div",{className:"drawerCart",children:[(0,a.jsxs)("div",{className:"cartTop",children:[a.jsx("h3",{children:"Корзина"}),a.jsx("div",{className:"closeCartBtn",onClick:e,children:a.jsx(c.aHS,{})})]}),a.jsx("div",{children:t.map(e=>(0,l.createElement)(n.Z,{...e,key:e.id}))}),(0,a.jsxs)("div",{className:"cartBottom",children:[a.jsx("p",{className:"cartTotalCost",children:"Цена: 0руб."}),a.jsx("button",{className:"cartBtnOk",disabled:!r,onClick:()=>{h()},children:d?"Заказ оформлен":"Оформить заказ"})]})]})})};r()}catch(e){r(e)}})},3627:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var r=s(997),a=s(1664),l=s.n(a),c=s(6689),n=s(9583);let i=(e,t)=>{let s=s=>{t&&e.current&&!e.current.contains(s.target)&&t()};(0,c.useEffect)(()=>(document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}))};var d=s(5462);let o=()=>{let e=(0,c.useRef)(null),[t,s]=(0,c.useState)(!1);i(e,()=>{t&&s(!1)});let{user:a,onLogout:o}=(0,d.U)();return(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{className:"regBtn",onClick:s,disabled:!!t,children:r.jsx(n.m3W,{})}),r.jsx("nav",{className:`regMenu ${t?"active":""}`,ref:e,children:r.jsx("ul",{className:"regMenuList",children:a?r.jsx("li",{className:"regMenuItem",children:(0,r.jsxs)("button",{onClick:o,children:[r.jsx(n.kUi,{}),"Выход"]})}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("li",{className:"regMenuItem",children:(0,r.jsxs)(l(),{href:"/RegPage",onClick:()=>s(!t),children:[r.jsx(n.jJN,{}),"Регистрация"]})}),r.jsx("li",{className:"regMenuItem",children:(0,r.jsxs)(l(),{href:"/AuthenticationPage",onClick:()=>s(!t),children:[r.jsx(n.jcU,{}),"Вход"]})})]})})})]})},h=({onClickCartBtn:e})=>(0,r.jsxs)("header",{children:[(0,r.jsxs)("div",{className:"headerTop",children:[r.jsx("div",{className:"logoContainer",children:r.jsx("img",{className:"logoIcon",src:"/image/b9fv_cb9z_221114.svg",alt:"Logo"})}),(0,r.jsxs)("div",{className:"infoContainer",children:[r.jsx("p",{children:"Время работы: Пн-Пт: 09:00-18:00"}),r.jsx("p",{children:"Тел: +7 (999)999-99-99"})]}),r.jsx("div",{children:r.jsx("button",{className:"btnCart",onClick:e,children:r.jsx(n.g6F,{})})}),r.jsx("div",{className:"authentication",children:r.jsx(o,{})})]}),r.jsx("div",{className:"navContainer",children:(0,r.jsxs)("ul",{className:"navCont",children:[r.jsx("li",{children:r.jsx(l(),{href:"/",children:"Home"})}),r.jsx("li",{children:r.jsx(l(),{href:"/Cake",children:"Торты"})}),r.jsx("li",{children:r.jsx(l(),{href:"/SmallCake",children:"Пирожные"})}),r.jsx("li",{children:r.jsx(l(),{href:"/Macaron",children:"Макаруны"})}),r.jsx("li",{children:r.jsx(l(),{href:"/AboutUs",children:"О нас"})})]})})]})},5462:(e,t,s)=>{"use strict";s.d(t,{T:()=>c,U:()=>n});var r=s(997),a=s(6689);let l=(0,a.createContext)(),c=({children:e})=>{let[t,s]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=localStorage.getItem("user");e&&s(JSON.parse(e))},[]),r.jsx(l.Provider,{value:{user:t,onLogin:e=>{s(e),localStorage.setItem("user",JSON.stringify(e))},onLogout:()=>{s(null),localStorage.removeItem("user")}},children:e})},n=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("Ошибка");return e}},9558:(e,t,s)=>{"use strict";s.d(t,{c:()=>r});let r=({image:e})=>""===e||null==e?"/image/b9fv_cb9z_221114.svg":e},2257:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>i});var a=s(997);s(6689),s(3868);var l=s(4990),c=s(5462),n=e([l]);l=(n.then?(await n)():n)[0];let i=({Component:e,pageProps:t})=>a.jsx(c.T,{children:a.jsx(l.Z,{children:a.jsx(e,{...t})})});r()}catch(e){r(e)}})},3868:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[209,445],()=>s(2257));module.exports=r})();