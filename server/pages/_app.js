(()=>{var e={};e.id=888,e.ids=[888,257],e.modules={4990:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>x,w:()=>h});var r=s(997),c=s(6689),l=s(3627),i=s(5462),n=s(9583),d=s(6706),o=s(9648),u=e([d,o]);[d,o]=u.then?(await u)():u;let h=(0,c.createContext)({}),x=({children:e})=>{let{user:t}=(0,i.U)(),[s,a]=(0,c.useState)(!1),[u,x]=(0,c.useState)([]),[m,j]=(0,c.useState)([]);(0,c.useEffect)(()=>{let e=async()=>{try{let e=await o.default.get("https://65a34012a54d8e805ed37cdb.mockapi.io/CatalogCard"),t=await o.default.get("https://65a34012a54d8e805ed37cdb.mockapi.io/ToCart");x(t.data),j(e.data)}catch(e){console.error("Error fetching data:",e)}};e()},[]);let v=async e=>{try{u.find(t=>Number(t.id)===Number(e.id))?(await o.default.delete(`https://65a34012a54d8e805ed37cdb.mockapi.io/ToCart/${e.id}`),x(t=>t.filter(t=>Number(t.id)!==Number(e.id)))):(await o.default.post("https://65a34012a54d8e805ed37cdb.mockapi.io/ToCart",e),x(t=>[...t,e]))}catch(e){console.log(e)}};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.Z,{onClickCartBtn:()=>a(!0)}),(0,r.jsxs)(h.Provider,{value:{user:t,cartItem:u,cards:m,setCartItem:x,onAddToCart:v,onDeleteInCart:e=>{o.default.delete(`https://65a34012a54d8e805ed37cdb.mockapi.io/ToCart/${e}`),x(e=>e.filter(e=>{e.id}))},setCartItem:x,isItemAdd:e=>u.some(t=>Number(t.id)===Number(e))},children:[s&&r.jsx(d.d,{onCloseCartBtn:()=>a(!1)}),e]}),r.jsx("button",{className:"btnCart floatBtn",onClick:()=>a(!0),children:r.jsx(n.g6F,{})})]})};a()}catch(e){a(e)}})},7384:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>o});var r=s(997),c=s(6689),l=s(9558),i=s(9583),n=s(4990),d=e([n]);n=(d.then?(await d)():d)[0];let o=({id:e,name:t,image:s,cost:a})=>{let{onDeleteInCart:d}=(0,c.useContext)(n.w),[o,u]=(0,c.useState)(1);return(0,r.jsxs)("div",{className:"cardToCart",id:e,children:[r.jsx("img",{className:"cartImage",src:(0,l.c)({image:s}),alt:t}),(0,r.jsxs)("div",{className:"cardInCart",children:[r.jsx("h3",{children:t}),(0,r.jsxs)("p",{children:["Цена:",a]}),(0,r.jsxs)("p",{children:["Общая стоймость:",a*o]}),(0,r.jsxs)("div",{className:"product-buttons",children:[r.jsx("button",{onClick:()=>{u(o-1)},disabled:1===o,children:"-"}),r.jsx("h3",{className:"product-count",children:o}),r.jsx("button",{className:"product-add",onClick:()=>{u(o+1)},children:"+"})]})]}),r.jsx("div",{className:"removeBtn",onClick:()=>d(e),children:r.jsx(i.aHS,{})})]})};a()}catch(e){a(e)}})},6706:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{d:()=>o});var r=s(997),c=s(6689),l=s(9583),i=s(7384),n=s(4990),d=e([i,n]);[i,n]=d.then?(await d)():d;let o=({onCloseCartBtn:e})=>{let{cartItem:t,setCartItem:s,user:a,onDeleteInCart:d}=(0,c.useContext)(n.w),[o,u]=(0,c.useState)(!1),h=()=>{u(!0),s([])};return r.jsx("div",{className:"drawerCartOut",children:(0,r.jsxs)("div",{className:"drawerCart",children:[(0,r.jsxs)("div",{className:"cartTop",children:[r.jsx("h3",{children:"Корзина"}),r.jsx("div",{className:"closeCartBtn",onClick:e,children:r.jsx(l.aHS,{})})]}),r.jsx("div",{children:t.map(e=>(0,c.createElement)(i.Z,{...e,key:e.id,onClickDel:()=>{d(e.id)}}))}),(0,r.jsxs)("div",{className:"cartBottom",children:[r.jsx("p",{className:"cartTotalCost",children:"Цена: 0руб."}),r.jsx("button",{className:"cartBtnOk",disabled:!a,onClick:()=>{h()},children:o?"Заказ оформлен":"Оформить заказ"})]})]})})};a()}catch(e){a(e)}})},3627:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(997),r=s(1664),c=s.n(r),l=s(6689),i=s(9583);let n=(e,t)=>{let s=s=>{t&&e.current&&!e.current.contains(s.target)&&t()};(0,l.useEffect)(()=>(document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}))};var d=s(5462);let o=()=>{let e=(0,l.useRef)(null),[t,s]=(0,l.useState)(!1);n(e,()=>{t&&s(!1)});let{user:r,onLogout:o}=(0,d.U)();return(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{className:"regBtn",onClick:s,disabled:!!t,children:a.jsx(i.m3W,{})}),a.jsx("nav",{className:`regMenu ${t?"active":""}`,ref:e,children:a.jsx("ul",{className:"regMenuList",children:r?a.jsx("li",{className:"regMenuItem",children:(0,a.jsxs)("button",{onClick:o,children:[a.jsx(i.kUi,{}),"Выход"]})}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("li",{className:"regMenuItem",children:(0,a.jsxs)(c(),{href:"/RegPage",onClick:()=>s(!t),children:[a.jsx(i.jJN,{}),"Регистрация"]})}),a.jsx("li",{className:"regMenuItem",children:(0,a.jsxs)(c(),{href:"/AuthenticationPage",onClick:()=>s(!t),children:[a.jsx(i.jcU,{}),"Вход"]})})]})})})]})},u=({onClickCartBtn:e})=>(0,a.jsxs)("header",{children:[(0,a.jsxs)("div",{className:"headerTop",children:[a.jsx("div",{className:"logoContainer",children:a.jsx("img",{className:"logoIcon",src:"/image/b9fv_cb9z_221114.svg",alt:"Logo"})}),(0,a.jsxs)("div",{className:"infoContainer",children:[a.jsx("p",{children:"Время работы: Пн-Пт: 09:00-18:00"}),a.jsx("p",{children:"Тел: +7 (999)999-99-99"})]}),(0,a.jsxs)("div",{className:"twoBtn",children:[a.jsx("button",{className:"btnCart",onClick:e,children:a.jsx(i.g6F,{})}),a.jsx("div",{className:"authentication",children:a.jsx(o,{})})]})]}),a.jsx("div",{className:"navContainer",children:(0,a.jsxs)("ul",{className:"navCont",children:[a.jsx("li",{children:a.jsx(c(),{href:"/",children:"Home"})}),a.jsx("li",{children:a.jsx(c(),{href:"/Cake",children:"Торты"})}),a.jsx("li",{children:a.jsx(c(),{href:"/SmallCake",children:"Пирожные"})}),a.jsx("li",{children:a.jsx(c(),{href:"/Macaron",children:"Макаруны"})}),a.jsx("li",{children:a.jsx(c(),{href:"/AboutUs",children:"О нас"})})]})})]})},5462:(e,t,s)=>{"use strict";s.d(t,{T:()=>l,U:()=>i});var a=s(997),r=s(6689);let c=(0,r.createContext)(),l=({children:e})=>{let[t,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=localStorage.getItem("user");e&&s(JSON.parse(e))},[]),a.jsx(c.Provider,{value:{user:t,onLogin:e=>{s(e),localStorage.setItem("user",JSON.stringify(e))},onLogout:()=>{s(null),localStorage.removeItem("user")}},children:e})},i=()=>{let e=(0,r.useContext)(c);if(!e)throw Error("Ошибка");return e}},9558:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});let a=({image:e})=>""===e||null==e?"/image/b9fv_cb9z_221114.svg":e},2257:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>n});var r=s(997);s(6689),s(3868);var c=s(4990),l=s(5462),i=e([c]);c=(i.then?(await i)():i)[0];let n=({Component:e,pageProps:t})=>r.jsx(l.T,{children:r.jsx(c.Z,{children:r.jsx(e,{...t})})});a()}catch(e){a(e)}})},3868:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[209,445],()=>s(2257));module.exports=a})();