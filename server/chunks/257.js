exports.id=257,exports.ids=[257],exports.modules={4990:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>x,w:()=>u});var r=s(997),l=s(6689),c=s(3627),n=s(5462),i=s(9583),d=s(6706),o=s(9648),h=e([d,o]);[d,o]=h.then?(await h)():h;let u=(0,l.createContext)({}),x=({children:e})=>{let{user:t}=(0,n.U)(),[s,a]=(0,l.useState)(!1),[h,x]=(0,l.useState)([]),[j,m]=(0,l.useState)([]),[v,N]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let e=async()=>{try{let e=await o.default.get("http://localhost:3001/catalogCard"),t=await o.default.get("http://localhost:3001/ToCart");N(!1),x(t.data),m(e.data)}catch(e){console.error("Error fetching data:",e)}};e()},[]);let g=async e=>{try{h.find(t=>Number(t.id)===Number(e.id))?(x(t=>t.filter(t=>Number(t.id)!==Number(e.id))),await o.default.delete(`http://localhost:3001/ToCart/${e.id}`)):(x(t=>[...t,e]),await o.default.post("http://localhost:3001/ToCart",e))}catch(e){alert("Ошибка при добавлении в корзину"),console.log(e)}},C=e=>{try{o.default.delete(`http://localhost:3001/ToCart/${e}`),x(t=>t.filter(t=>Number(t.id)!==Number(e)))}catch(e){alert("Ошибка при удалении из корзины"),console.error(e)}};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(c.Z,{onClickCartBtn:()=>a(!0)}),(0,r.jsxs)(u.Provider,{value:{user:t,cartItem:h,cards:j,isItemAdd:e=>h.some(t=>Number(t.id)===Number(e)),setCartItem:x,onAddToCart:g,onDeleteInCart:C,setDrawerOpen:a,isLoading:v},children:[s&&r.jsx(d.d,{itemsInCart:h,deletItem:C,onCloseCartBtn:()=>a(!1)}),e]}),r.jsx("button",{className:"btnCart floatBtn",onClick:()=>a(!0),children:r.jsx(i.g6F,{})})]})};a()}catch(e){a(e)}})},7384:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(997),r=s(6689),l=s(9558);let c=({id:e,name:t,image:s,cost:c})=>{let[n,i]=(0,r.useState)(1);return(0,a.jsxs)(a.Fragment,{children:[a.jsx("img",{className:"cartImage",src:(0,l.c)({image:s}),alt:t}),(0,a.jsxs)("div",{className:"cardInCart",children:[a.jsx("h3",{children:t}),(0,a.jsxs)("p",{children:["Цена:",c]}),(0,a.jsxs)("p",{children:["Общая стоймость:",c*n]}),(0,a.jsxs)("div",{className:"product-buttons",children:[a.jsx("button",{onClick:()=>{i(n-1)},disabled:1===n,children:"-"}),a.jsx("h3",{className:"product-count",children:n}),a.jsx("button",{className:"product-add",onClick:()=>{i(n+1)},children:"+"})]})]})]})}},6706:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{d:()=>o});var r=s(997),l=s(6689),c=s(9583),n=s(7384),i=s(4990),d=e([i]);i=(d.then?(await d)():d)[0];let o=({onCloseCartBtn:e,deletItem:t,itemsInCart:s=[]})=>{let{setCartItem:a,user:d}=(0,l.useContext)(i.w),[o,h]=(0,l.useState)(!1),u=()=>{h(!0),a([])};return r.jsx("div",{className:"drawerCartOut",children:(0,r.jsxs)("div",{className:"drawerCart",children:[(0,r.jsxs)("div",{className:"cartTop",children:[r.jsx("h3",{children:"Корзина"}),r.jsx("div",{className:"closeCartBtn",onClick:e,children:r.jsx(c.aHS,{})})]}),s.length>0?r.jsx("div",{children:s.map(e=>(0,r.jsxs)("div",{className:"cardToCart",children:[r.jsx(n.Z,{...e}),r.jsx("div",{className:"removeBtn",onClick:()=>t(e.id),children:r.jsx(c.aHS,{})})]},e.id))}):r.jsx("p",{children:"Корзина пуста"}),(0,r.jsxs)("div",{className:"cartBottom",children:[r.jsx("p",{className:"cartTotalCost",children:"Цена: 0руб."}),r.jsx("button",{className:"cartBtnOk",disabled:!d,onClick:()=>{u()},children:o?"Заказ оформлен":"Оформить заказ"})]})]})})};a()}catch(e){a(e)}})},3627:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var a=s(997),r=s(1664),l=s.n(r),c=s(6689),n=s(9583);let i=(e,t)=>{let s=s=>{t&&e.current&&!e.current.contains(s.target)&&t()};(0,c.useEffect)(()=>(document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}))};var d=s(5462);let o=()=>{let e=(0,c.useRef)(null),[t,s]=(0,c.useState)(!1);i(e,()=>{t&&s(!1)});let{user:r,onLogout:o}=(0,d.U)();return(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{className:"regBtn",onClick:s,disabled:!!t,children:a.jsx(n.m3W,{})}),a.jsx("nav",{className:`regMenu ${t?"active":""}`,ref:e,children:a.jsx("ul",{className:"regMenuList",children:r?a.jsx("li",{className:"regMenuItem",children:(0,a.jsxs)("button",{onClick:o,children:[a.jsx(n.kUi,{}),"Выход"]})}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("li",{className:"regMenuItem",children:(0,a.jsxs)(l(),{href:"/RegPage",onClick:()=>s(!t),children:[a.jsx(n.jJN,{}),"Регистрация"]})}),a.jsx("li",{className:"regMenuItem",children:(0,a.jsxs)(l(),{href:"/AuthenticationPage",onClick:()=>s(!t),children:[a.jsx(n.jcU,{}),"Вход"]})})]})})})]})},h=({onClickCartBtn:e})=>(0,a.jsxs)("header",{children:[(0,a.jsxs)("div",{className:"headerTop",children:[a.jsx("div",{className:"logoContainer",children:a.jsx("img",{className:"logoIcon",src:"/image/b9fv_cb9z_221114.svg",alt:"Logo"})}),(0,a.jsxs)("div",{className:"infoContainer",children:[a.jsx("p",{children:"Время работы: Пн-Пт: 09:00-18:00"}),a.jsx("p",{children:"Тел: +7 (999)999-99-99"})]}),(0,a.jsxs)("div",{className:"twoBtn",children:[a.jsx("button",{className:"btnCart",onClick:e,children:a.jsx(n.g6F,{})}),a.jsx("div",{className:"authentication",children:a.jsx(o,{})})]})]}),a.jsx("div",{className:"navContainer",children:(0,a.jsxs)("ul",{className:"navCont",children:[a.jsx("li",{children:a.jsx(l(),{href:"/",children:"Home"})}),a.jsx("li",{children:a.jsx(l(),{href:"/Cake",children:"Торты"})}),a.jsx("li",{children:a.jsx(l(),{href:"/SmallCake",children:"Пирожные"})}),a.jsx("li",{children:a.jsx(l(),{href:"/Macaron",children:"Макаруны"})}),a.jsx("li",{children:a.jsx(l(),{href:"/AboutUs",children:"О нас"})})]})})]})},5462:(e,t,s)=>{"use strict";s.d(t,{T:()=>c,U:()=>n});var a=s(997),r=s(6689);let l=(0,r.createContext)(),c=({children:e})=>{let[t,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=localStorage.getItem("user");e&&s(JSON.parse(e))},[]),a.jsx(l.Provider,{value:{user:t,onLogin:e=>{s(e),localStorage.setItem("user",JSON.stringify(e))},onLogout:()=>{s(null),localStorage.removeItem("user")}},children:e})},n=()=>{let e=(0,r.useContext)(l);if(!e)throw Error("Ошибка");return e}},9558:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});let a=({image:e})=>""===e||null==e?"/image/b9fv_cb9z_221114.svg":e},2257:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>i});var r=s(997);s(6689),s(3868);var l=s(4990),c=s(5462),n=e([l]);l=(n.then?(await n)():n)[0];let i=({Component:e,pageProps:t})=>r.jsx(c.T,{children:r.jsx(l.Z,{children:r.jsx(e,{...t})})});a()}catch(e){a(e)}})},3868:()=>{}};